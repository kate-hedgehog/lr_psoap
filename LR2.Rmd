---
output:
  html_document: default
  pdf_document: default
---
# Исследование сетевых параметров публичных DNS серверов

## Цель работы

Проанализировать сетевые параметры публичных DNS серверов, сделать мотивированный вывод о предпочтительных серверах

## Используемое ПО
1. Windows 10
2. cmd
3. Rstudio IDE
4. tracert
5. 2ip
6. whois

## Варианты решения задачи
1. Решить задачу на Windows (с помощью утилиты tracert)
1. Решить задачу на Linux (с помощью утилиты tracerout)

## Общий план выполнения

1. Построить маршрут
2. С помощью whois, 2ip определить местоположение каждого узла маршрута к DNS-серверу, организацию, владеющую каждым узлом маршрута к DNS-серверу
3. Расчитать среднее RTT (время отправки + время обработки пакета на узле) к DNS-серверу
4. Выделить те узлы маршрута, которые вносят наибольшую временную задержку при передаче

## Исследуемые провайдеры DNS

1. Google Public DNS
2. Cloudflare DNS
3. OpenDNS
4. DNS вашего провайдера


## Ход работы

В сети Интернет доступ к вебсайтам осуществляется по их IP-адресам (например, 123.12.15.19) либо доменным именам. Соответствие между доменными именами и их адресами хранится в иерархической структуре службы доменных серверов - DNS-серверов. Чаще всего интернет-провайдер автоматически предоставляет своим пользователям собственный DNS-сервер, однако в некоторых случаях может потребоваться использовать публичные DNS сервера, бесплатно распространяемые в сети Интернет и доступные всем её пользователям.

Google Public DNS

```{r cache=TRUE}
system("tracert 8.8.8.8", intern = TRUE)
```

| № |Первый ping|Второй ping|Третий ping|Узел|Месторасположение| Организация| Средняя RTT| Вносит наибольшую временную задержку при передаче|
|:-:|:---------:|:---------:|:---------:|:--:|:---------------:|:----------:|:----------:|:------------------------------------------------:|
| 1| 2 ms| 6 ms| 2 ms| 192.168.0.1|Москва|Домашний роутер|3,3||
| 2| 4 ms| 1 ms| <1 ms| 172.18.0.1|Москва|Гран При Телеком|1,8||
| 3| 17 ms| 9 ms| 22 ms| gw-core.gptel.ru [77.73.25.1]|Гран При Телеком|16||
| 4| 16 ms| 7 ms| 39 ms| 77.94.162.77|Москва|Наука-Связь|20,7|+|
| 5| 2 ms| 1 ms| 2 ms| ae3-nostromo-mtt-msk.naukanet.ru [77.94.160.52]|Москва|Наука-Связь|1,7||
| 6| 13 ms| 7 ms| 11 ms| 209.85.148.20|USA|Google LLC|10,3||
| 7| 19 ms| 30 ms| 3 ms| 108.170.250.66|Mountain View, USA|Google LLC|17,3||
| 8| 20 ms| 22 ms| 24 ms| 209.85.255.136|USA|Google LLC|22|+|
| 9| 17 ms| 17 ms| 17 ms| 216.239.54.50|USA|Google LLC|17||
| 10| * | * | * | Request timed out.|
| 11| * | * | * | Request timed out.|
| 12| * | * | * | Request timed out.|
| 13| * | * | * | Request timed out.|
| 14| * | * | * | Request timed out.|
| 15| * | * | * | Request timed out.|
| 16| * | * | * | Request timed out.|
| 17| * | * | * | Request timed out.|
| 18| * | * | * | Request timed out.|
| 19| 18 ms| 17 ms| 20 ms| dns.google [8.8.8.8]|Нью-Йорк, USA|Google LLC|18,3|+|

Cloudflare DNS

```{r cache=TRUE}
system("tracert 1.1.1.1", intern = TRUE)
```

| № |Первый ping|Второй ping|Третий ping|Узел|Месторасположение| Организация| Средняя RTT| Вносит наибольшую временную задержку при передаче|
|:-:|:---------:|:---------:|:---------:|:--:|:---------------:|:----------:|:----------:|:------------------------------------------------:|
| 1| 1 ms| 1 ms| 1 ms| 192.168.0.1|Москва|Домашний роутер|1||
| 2| 1 ms| <1 ms| <1 ms| 172.18.0.1|Москва|Гран При Телеком|0,7||
| 3| 1 ms| 3 ms| 1 ms| gw-core.gptel.ru [77.73.25.1]|Москва|Гран При Телеком|1,7||
| 4| 18 ms| 32 ms| 1 ms| gptel145.cln.net [79.98.8.145]|Москва|CLN|17|+|
| 5| 2 ms| 2 ms| 12 ms| jun0-mr-vl7.cln.net [79.98.8.254]|Москва|CLN|5,3||
| 6| 20 ms| 20 ms| 20 ms| netnod-ix-ge-a-sth-1500.cloudflare.com [194.68.123.246]|Borgholm, Sweden|Stockholm Interconnect GigEth|20|+|
| 7| 19 ms| 21 ms| 21 ms| one.one.one.one [1.1.1.1]| Research, Australia| Cloudflare DNS|20,3|+|

OpenDNS

```{r cache=TRUE}
system("tracert 208.67.220.220", intern = TRUE)
```


| № |Первый ping|Второй ping|Третий ping|Узел|Месторасположение| Организация| Средняя RTT| Вносит наибольшую временную задержку при передаче|
|:-:|:---------:|:---------:|:---------:|:--:|:---------------:|:----------:|:----------:|:------------------------------------------------:|
| 1|   <1 ms|   <1 ms|   <1 ms|  192.168.0.1|Москва|Домашний роутер|0,5||
| 2|    1 ms|    1 ms|    1 ms|  172.18.0.1|Москва|Гран При Телеком|1||
| 3|   10 ms|    4 ms|    1 ms| gw-core.gptel.ru [77.73.25.1]|Москва|Гран При Телеком|5||
| 4|    1 ms|    1 ms|    1 ms| gptel145.cln.net [79.98.8.145]|Москва|CLN|1||
| 5|    4 ms|    3 ms|    3 ms| jun0-mr-vl7.cln.net [79.98.8.254]|Москва|CLN|3,3||
| 6|   4 ms|     2 ms|    7 ms| ae11-747.RT.MR.MSK.RU.retn.net [87.245.253.18]|Москва|ReTN external interconnections in Moscow|4,3||
| 7|   42 ms|   43 ms|   39 ms| ae3-8.RT.TC2.AMS.NL.retn.net [87.245.233.17]|Москва|Grand Prix Telecom|41,3|+|
| 8|   57 ms|   57 ms|   57 ms| peer1.rtr1.ams.opendns.com [80.249.208.88]|	Amsterdam|AMS-IX Amsterdam IPv4 Peering (ISP) LAN|57|+|
| 9|   57 ms|   57 ms|   57 ms| resolver2.opendns.com [208.67.220.220]|San Francisco|Cisco OpenDNS, LLC|57|+|

ООО "Гран При Телеком"

```{r cache=TRUE}
system("tracert 77.73.24.2", intern = TRUE)
```


| № |Первый ping|Второй ping|Третий ping|Узел|Месторасположение| Организация| Средняя RTT| Вносит наибольшую временную задержку при передаче|
|:-:|:---------:|:---------:|:---------:|:--:|:---------------:|:----------:|:----------:|:------------------------------------------------:|
| 1|    3 ms|    1 ms|    1 ms|  192.168.0.1|Москва|Домашний роутер|1,7|+|
| 2|    1 ms|   <1 ms|   <1 ms|  172.18.0.1|Москва|Гран При Телеком|0,7||
| 3|    1 ms|    1 ms|    1 ms| gw-aggr1.gptel.ru [77.73.25.6]|Москва|Гран При Телеком|1|+|
| 4|    1 ms|    1 ms|    1 ms| ns.gptel.ru [77.73.24.2]|Москва|network for GRANDPRIX Telecom|1|+|


```{r, echo=FALSE}
xt <- c(0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58)
yh <- c(0,0.5,1,1.5,2,2.5,3,3.5,4,4.5,5,5.5,6,6.5,7,7.5,8,8.5,9,9.5,10,10.5,11,11.5,12,12.5,13,13.5,14,14.5)
xx <- c(3.3,1.8,16,20.7,1.7,10.3,17.3,22,17,18.3)
yy <- c(1,2,3,4,5,6,7,8,9,10)
xxx <- c(1,0.7,1.7,17,5.3,20,20.3)
yyy <- c(1,2,3,4,5,6,7)
xxxx <- c(0.5,1,5,1,3.3,4.3,41.3,57,57)
yyyy <- c(1,2,3,4,5,6,7,8,9)
xxxxx <- c(1.7,0.7,1,1)
yyyyy <- c(1,2,3,4)

plot(yh,xt, main = "Сравнительная диаграмма RTT к серверам", xlab = "Шаг", ylab = "RTT",type = "n")
points(yy,xx,col = "red3")
lines(yy,xx,col = "red3")
points(yyy,xxx,col = "forestgreen")
lines(yyy,xxx,col = "forestgreen")
points(yyyy,xxxx,col = "steelblue")
lines(yyyy,xxxx,col = "steelblue")
points(yyyyy,xxxxx)
lines(yyyyy,xxxxx)

```

Красный - Google Public DNS

Зеленый - Cloudflare DNS

Синий - OpenDNS

Черный - ООО "Гран При Телеком"

## Оценка результата

На графике видно, что больше всего времени потребовалось при обращении к OpenDNS, меньше всего - к ООО "Гран При Телеком".

## Вывод

DNS важна для работы Интернета, так как для соединения с узлом необходима информация о его IP-адресе, а для людей проще запоминать буквенные (обычно осмысленные) адреса, чем последовательность цифр IP-адреса. В данной лабораторной работе мы рассмотрели параметры Google Public DNS, Cloudflare DNS, OpenDNS, ООО "Гран При Телеком". 
